<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="manifest" href="manifest.json">
<title>Admin Login - UTRA FASHION </title>
<style>
/* ONLY CSS CHANGED FOR MOBILE VIEW - NO LOGIC CHANGES */
body{background:#f2f4f8;font-family:'Segoe UI',sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;margin:0;padding:0;}

.card{
    background:white;
    padding:35px 20px; /* Padding adjusted for mobile */
    border-radius:15px;
    box-shadow:0 15px 30px rgba(0,0,0,0.1);
    width: 90%;       /* Fixed 350px removed for mobile flexibility */
    max-width:350px;  /* Keeps it normal on desktop */
    text-align:center;
    box-sizing: border-box; /* Important for width calculation */
}

.logo{width:70px;height:70px;border-radius:50%;margin-bottom:10px;object-fit:cover;}
h2{margin:10px 0 20px 0; font-size: 22px;}
input{width:100%;padding:12px;margin:10px 0;border-radius:8px;border:1px solid #ddd;outline:none;box-sizing: border-box; font-size: 16px;}
.password-wrapper{position:relative; width: 100%;}
.show-btn{position:absolute;right:10px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:13px;color:#007bff;}
button{width:100%;padding:12px;background:black;color:white;border:none;border-radius:8px;font-weight:bold;cursor:pointer;margin-top:15px; font-size: 16px;}
button:hover{opacity:0.9;}
#status{color:red;font-size:14px;margin-top:10px;}

/* Ensures zoom doesn't happen on mobile tap */
@media screen and (max-width: 480px) {
    input, button { font-size: 16px; }
}
</style>
</head>
<body>

<div class="card">
<img src="image.png" class="logo" alt="Logo">
<h2>LOYAL FASHION</h2>
<p style="color:#777;font-size:14px;">Admin Panel Login</p>

<input type="email" id="email" placeholder="Admin Email">
<div class="password-wrapper">
<input type="password" id="password" placeholder="Password">
<span class="show-btn" onclick="togglePassword()">Show</span>
</div>

<button onclick="login()">Login</button>
<p id="status"></p>
</div>

<script type="module">
/* FIREBASE LOGIC - UNTOUCHED AS REQUESTED */
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";

const firebaseConfig = {
Â  apiKey: "AIzaSyCax6078YpxQU0kHIChQLuEmpLUYXSxQr4",
Â  authDomain: "e-commerce-wepsite.firebaseapp.com",
Â  projectId: "e-commerce-wepsite",
Â  storageBucket: "e-commerce-wepsite.appspot.com",
Â  messagingSenderId: "394408704286",
Â  appId: "1:394408704286:web:9ad690a946b225ab20f10f"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.login = async function(){
Â  Â  const email = document.getElementById("email").value.trim().toLowerCase();
Â  Â  const pass = document.getElementById("password").value;
Â  Â  const status = document.getElementById("status");

Â  Â  if(!email || !pass){ status.innerText="Fill all fields âŒ"; return; }

Â  Â  try{
Â  Â  Â  Â  const userCredential = await signInWithEmailAndPassword(auth, email, pass);
Â  Â  Â  Â  const user = userCredential.user;

Â  Â  Â  Â  if(user.email === "sureshrajagunam24@gmail.com"){
Â  Â  Â  Â  Â  Â  localStorage.setItem("isAdminLoggedIn", "true"); 
Â  Â  Â  Â  Â  Â  alert("Welcome Admin! âœ…");
Â  Â  Â  Â  Â  Â  window.location.href="admin-dashboard.html";
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  await auth.signOut();
Â  Â  Â  Â  Â  Â  status.innerText="Access Denied: Not an Admin ğŸš«";
Â  Â  Â  Â  }
Â  Â  }catch(err){
Â  Â  Â  Â  console.error("Login Error:", err.code);
Â  Â  Â  Â  if(err.code === 'auth/user-not-found' || err.code === 'auth/wrong-password'){
Â  Â  Â  Â  Â  Â  status.innerText="Invalid Email or Password âŒ";
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  status.innerText="Login Error âŒ";
Â  Â  Â  Â  }
Â  Â  }
}

window.togglePassword = function(){
Â  Â  const pass=document.getElementById("password");
Â  Â  const btn=document.querySelector(".show-btn");
Â  Â  if(pass.type==="password"){ pass.type="text"; btn.innerText="Hide"; }
Â  Â  else{ pass.type="password"; btn.innerText="Show"; }
}
</script>

</body>
</html>
